(()=>{var e={};e.id=931,e.ids=[931],e.modules={55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},39491:e=>{"use strict";e.exports=require("assert")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},12781:e=>{"use strict";e.exports=require("stream")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},94209:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>c,pages:()=>d,routeModule:()=>m,tree:()=>p});var s=r(67096),a=r(16132),i=r(37284),n=r.n(i),o=r(32564),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let p=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,13889)),"C:\\Avada-Media\\quity-next\\app\\page.js"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,57848)),"C:\\Avada-Media\\quity-next\\app\\layout.js"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,9291,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Avada-Media\\quity-next\\app\\page.js"],c="/page",u={require:r,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:p}})},1246:(e,t,r)=>{Promise.resolve().then(r.bind(r,16058)),Promise.resolve().then(r.bind(r,13257))},13257:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>f});var s=r(53854),a=r(34218),i=r(57984),n=r.n(i),o=r(75548),l=r.n(o),p=r(83847);let d={_origin:"https://api.emailjs.com"},c=(e,t,r)=>{if(!e)throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!t)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!r)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class u{constructor(e){this.status=e?e.status:0,this.text=e?e.responseText:"Network Error"}}let m=(e,t,r={})=>new Promise((s,a)=>{let i=new XMLHttpRequest;i.addEventListener("load",({target:e})=>{let t=new u(e);200===t.status||"OK"===t.text?s(t):a(t)}),i.addEventListener("error",({target:e})=>{a(new u(e))}),i.open("POST",d._origin+e,!0),Object.keys(r).forEach(e=>{i.setRequestHeader(e,r[e])}),i.send(t)}),_=e=>{let t;if(!(t="string"==typeof e?document.querySelector(e):e)||"FORM"!==t.nodeName)throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return t},h={init:(e,t="https://api.emailjs.com")=>{d._userID=e,d._origin=t},send:(e,t,r,s)=>{let a=s||d._userID;return c(a,e,t),m("/api/v1.0/email/send",JSON.stringify({lib_version:"3.11.0",user_id:a,service_id:e,template_id:t,template_params:r}),{"Content-type":"application/json"})},sendForm:(e,t,r,s)=>{let a=s||d._userID,i=_(r);c(a,e,t);let n=new FormData(i);return n.append("lib_version","3.11.0"),n.append("service_id",e),n.append("template_id",t),n.append("user_id",a),m("/api/v1.0/email/send-form",n)}};var x=r(48581),w=r(20766),g=r(39893),v=r(41956),j=r.n(v);r(39446),r(48732);let f=()=>{let[e,t]=(0,a.useState)("");(0,w.CG)(x.yA);let[r,i]=(0,a.useState)(!0);(0,a.useEffect)(()=>{i(0)},[]);let o=e=>{i(e)},[d,c]=(0,a.useState)(),[u,m]=(0,a.useState)({fullName:null,email:null,phone:null,password:null,passwordConfirmation:null}),_=e=>{let{name:t,value:r}=e.target;m({...u,[t]:r})},v=async()=>{try{let e=await p.Z.get("https://quitystrapi.onrender.com/api/clients?populate=*"),t=e.data.data,r=t.find(e=>e.attributes.email===u.email);r?(r.attributes.email,alert("Пользователь с таким email уже существует !")):alert("Пользователя с таким email нет в системе !")}catch(e){console.error("Error in handleBlur:",e)}},f=async e=>{e.preventDefault();try{if(u.password!==u.passwordConfirmation){alert("Вы ввели неправильный пароль");return}if(u.password.length<=6){alert("Вы ввели слишком короткий пароль");return}if(!/\d/.test(u.password)){alert("Пароль должен содержать хотя бы одну цифру");return}if(!/[a-zA-Z]/.test(u.password)){alert("Пароль должен содержать хотя бы одну букву");return}let e={data:{fullName:u.fullName,email:u.email,phone:u.phone,password:u.password}},t=await p.Z.post("https://quitystrapi.onrender.com/api/clients",e,{params:{populate:"password"}});200===t.status&&m({fullName:"",email:"",phone:"",password:"",passwordConfirmation:""}),setTimeout(()=>{200===t.status?alert("Вы успешно зарегистрировались!"):alert("Что-то пошло не так, повторите попытку")},1e3),setTimeout(()=>{o(0)},1500)}catch(e){console.error("fetchdata failed")}};(0,a.useEffect)(()=>{p.Z.get("https://quitystrapi.onrender.com/api/clients?populate=*").then(e=>{let t=e.data.data;c(t)}).catch(e=>{console.error("Error fetching data:",e)})},[]);let[y,b]=(0,a.useState)([]);async function N(){try{let e=await p.Z.get("https://quitystrapi.onrender.com/api/clients?populate=*"),t=e.data.data;b(t);let r=t.find(e=>(e.attributes.email===u.email||e.attributes.phone===u.email)&&e.attributes.password===u.password);r?(window.location.href="/profile",alert("переход на главную страницу")):alert("Вы ввели неправильный логин или пароль")}catch(e){console.error("get dataClients failed")}}let C=()=>{let e="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",t="";for(let r=0;r<8;r++){let r=Math.floor(Math.random()*e.length);t+=e[r]}return t},[q,P]=(0,a.useState)();(0,a.useEffect)(()=>{let e=C();P(e)},[]);let[F,k]=(0,a.useState)(null),[A,E]=(0,a.useState)();console.log(F);let M=async e=>{e.preventDefault(),S(e);let t=e.target.elements.user_email.value;k(t);let r={to:t,to_email:F,from_name:"Maksym",to_name:"Guest",message:`Ваш новый пароль: ${q}`};try{await h.send("service_npekptm","template_kyh2hsb",r,"MC7BRzxDCdfYOwX2U")}catch(e){console.error("Ошибка при отправке письма:",e.text)}};async function S(e){try{let t=await p.Z.get("https://quitystrapi.onrender.com/api/clients?populate=*"),r=t.data.data,s=r.find(t=>t.attributes.email===e.target.elements.user_email.value),a=s.id;console.log(a);let i=await p.Z.put(`https://quitystrapi.onrender.com/api/clients/${a}`,{data:{password:q}});200===i.status&&(m({user_email:""}),alert("Ваш пароль успешно изменен"))}catch(e){console.error("change password failed",e)}}let T=()=>{setTimeout(()=>{o(0)},1e3)},[Z,D]=(0,a.useState)(!0),I=()=>{D(!Z)};return s.jsx("div",{className:n().registration__wrapper,children:s.jsx("div",{className:n().registration,children:(0,s.jsxs)("div",{className:n().registration__container,children:[(0,s.jsxs)("div",{className:n().navigation,children:[s.jsx("h3",{className:`${0===r?n().active:n().nonActive}`,onClick:()=>o(0),children:"Вход"}),s.jsx("span",{className:n().slash,children:"/"}),s.jsx("h3",{className:`${1===r?n().active:n().nonActive}`,onClick:()=>o(1),children:"Регистрация"})]}),0===r&&(0,s.jsxs)("div",{className:n().enter__body,children:[(0,s.jsxs)("div",{className:n().inputs__wrapper,children:[(0,s.jsxs)("div",{className:n().input__wrapper,children:[s.jsx("label",{htmlFor:"email",children:"Email или телефон *"}),s.jsx("input",{name:"email",value:u.email,onChange:e=>{_(e),t(e.target.value)}})]}),(0,s.jsxs)("div",{className:n().input__wrapper,children:[s.jsx("label",{htmlFor:"password",children:"Пароль *"}),s.jsx("input",{type:"password",name:"password",value:u.password,onChange:_})]})]}),s.jsx("div",{className:n().reminder,onClick:()=>o(2),children:"Забыл пароль?"}),s.jsx("div",{className:n().button__wrapper,onClick:N,children:s.jsx("button",{className:n().registrationButton,children:"Войти"})})]}),s.jsx("form",{onSubmit:f,children:1===r&&(0,s.jsxs)("div",{className:n().inputs__wrapper,children:[(0,s.jsxs)("div",{className:n().input__wrapper,children:[s.jsx("label",{htmlFor:"fullName",children:"ФИО *"}),s.jsx("input",{type:"text",name:"fullName",value:u.fullName,onChange:_})]}),(0,s.jsxs)("div",{className:n().input__wrapper,children:[s.jsx("label",{htmlFor:"email",children:"Email *"}),s.jsx("input",{type:"email",name:"email",value:u.email,onChange:_,onBlur:v})]}),(0,s.jsxs)("div",{className:n().input__wrapper,children:[s.jsx("label",{htmlFor:"phone",children:"Телефон *"}),s.jsx("input",{type:"number",name:"phone",value:u.phone,onChange:_})]}),Z?(0,s.jsxs)("div",{className:n().input__wrapper,children:[s.jsx("label",{htmlFor:"password",children:"Придумайте пароль *"}),s.jsx("input",{type:"password",name:"password",value:u.password,onChange:_}),s.jsx(j(),{src:g.ZP.show,alt:"show",width:16,height:13,className:n().eyeIcon,onClick:()=>I()})]}):(0,s.jsxs)("div",{className:n().input__wrapper,children:[s.jsx("label",{htmlFor:"password",children:"Придумайте пароль *"}),s.jsx("input",{type:"text",name:"password",value:u.password,onChange:_}),s.jsx(j(),{src:g.ZP.hide,alt:"hide",width:16,height:13,className:n().eyeIcon,onClick:()=>I()})]}),s.jsx("div",{className:n().passwordHint,children:"Минимум 6 символов (букв, цифр и спец. знаков)"}),Z?(0,s.jsxs)("div",{className:n().input__wrapper,children:[s.jsx("label",{htmlFor:"passwordConfirmation",children:"Подтвердите пароль *"}),s.jsx("input",{type:"password",name:"passwordConfirmation",value:u.passwordConfirmation,onChange:_}),s.jsx(j(),{src:g.ZP.show,alt:"show",width:16,height:13,className:n().eyeIcon,onClick:()=>I()})]}):(0,s.jsxs)("div",{className:n().input__wrapper,children:[s.jsx("label",{htmlFor:"passwordConfirmation",children:"Подтвердите пароль *"}),s.jsx("input",{type:"text",name:"passwordConfirmation",value:u.passwordConfirmation,onChange:_}),s.jsx(j(),{src:g.ZP.hide,alt:"hide",width:16,height:13,className:n().eyeIcon,onClick:()=>I()})]}),(0,s.jsxs)("div",{className:n().approvement,children:["Я принимаю условия"," ",s.jsx(l(),{href:"#",children:s.jsx("span",{className:n().colored,children:"Публичной оферты"})})," ","и"," ",s.jsx(l(),{href:"#",children:s.jsx("span",{className:n().colored,children:"Пользовательского соглашения"})})]}),s.jsx("div",{className:n().button__wrapper,children:s.jsx("button",{className:n().registrationButton,type:"submit",children:"Зарегистриоватся"})})]})}),s.jsx("form",{onSubmit:M,children:2===r&&(0,s.jsxs)("div",{className:n().enter__body,children:[s.jsx("h3",{className:n().active,children:"Новый пароль будет отправлен на Ваш почтовый ящик"}),s.jsx("div",{className:n().inputs__wrapper,children:(0,s.jsxs)("div",{className:n().input__wrapper,children:[s.jsx("label",{htmlFor:"email",children:" Введите Email"}),s.jsx("input",{type:"email",name:"user_email",onChange:_})]})}),s.jsx("div",{className:n().reminder,onClick:()=>o(0),children:`< назад`}),s.jsx("div",{className:n().button__wrapper,children:s.jsx("button",{className:n().registrationButton,type:"submit",onClick:()=>T(),children:"Отправить"})})]})})]})})})}},90799:e=>{e.exports={wrapper:"profile_wrapper__dRXs9",main__wrapper:"profile_main__wrapper__FbUnO",title:"profile_title__TC7yY",firstPage__wrapper:"profile_firstPage__wrapper___7N_T",registrationForm__wrapper:"profile_registrationForm__wrapper__MUVfA",registrationForm__body:"profile_registrationForm__body__cYMt5"}},57984:e=>{e.exports={registration__wrapper:"registration_registration__wrapper__yNAHJ",registration:"registration_registration__wpm2P",registration__container:"registration_registration__container__CCtZL",navigation:"registration_navigation__Nol0G",active:"registration_active__feIe_",nonActive:"registration_nonActive__OrDJG",slash:"registration_slash__Dddrq",inputs__wrapper:"registration_inputs__wrapper__1Z8wg",input__wrapper:"registration_input__wrapper__7Tjax",eyeIcon:"registration_eyeIcon__3xnkc",passwordHint:"registration_passwordHint__BVnJc",approvement:"registration_approvement__WAY72",colored:"registration_colored__18Rwc",button__wrapper:"registration_button__wrapper__T1Fv_",registrationButton:"registration_registrationButton__xyDYr",enter__body:"registration_enter__body__kvWhB",reminder:"registration_reminder__lZiwY"}},13889:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var s=r(4656),a=r(90799),i=r.n(a),n=r(42537),o=r(95153);let l=(0,o.createProxy)(String.raw`C:\Avada-Media\quity-next\app\profile\registration\Registration.jsx`),{__esModule:p,$$typeof:d}=l,c=l.default;function u(){return s.jsx(s.Fragment,{children:(0,s.jsxs)("div",{className:i().registrationForm__wrapper,children:[s.jsx("div",{className:i().firstPage__wrapper,children:s.jsx(n.default,{})}),s.jsx("div",{className:i().registrationForm__body,children:s.jsx(c,{})})]})})}}};var t=require("../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[697,622,610,739],()=>r(94209));module.exports=s})();